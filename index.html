<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <title>Rock | Paper | Scissors</title>
    </head>
    <body>
        <script type="text/javascript">

        // Gotta keep score
            var computerScore = 0;
            var playerScore = 0;
            var round = 0;

        // Computer randomly picking rock, paper, or scissors
            function computerPlay(items) {
                return items[Math.floor(Math.random()*items.length)];
            };
            const items = ['rock', 'paper', 'scissors'];
            var computerSelection = computerPlay(items);

        // Player input from buttons            
            function rockButton() {
                window.playerSelection = 'rock';
                console.log('Human plays rock');
                game();
            };
            function paperButton() {
                window.playerSelection = 'paper';
                console.log('Human plays paper');
                game()
            };
            function scissorsButton() {
                window.playerSelection = 'scissors';
                console.log('Human plays scissors');
                game()
            };
            var playerSelection = window.playerSelection;
       
        // Game Play    
                function playRound(playerSelection, computerSelection) {
                if (playerSelection == 'rock') {
                    if (computerSelection == 'rock') {
                        document.getElementById('score').innerHTML = 'You tie! You and the computer played rock.';
                    } else if (computerSelection == 'paper') {
                        document.getElementById('score').innerHTML = 'You lose! Computer played paper. Paper beats rock.';
                        computerScore = computerScore + 1;
                    } else {
                        document.getElementById('score').innerHTML =  'You Win! Computer played scissors. Rock beats scissors.';
                        playerScore = playerScore + 1;
                    };
                } else if (playerSelection == 'paper') {
                   if (computerSelection == 'paper') {
                        document.getElementById('score').innerHTML =  'You tie! You and the computer played paper.';
                    } else if (computerSelection == 'scissors') {
                        document.getElementById('score').innerHTML =  'You lose! Computer played scissors. Scissors beat paper.';
                        computerScore = computerScore + 1;
                    } else {
                        document.getElementById('score').innerHTML = 'You Win! Computer played rock. Paper beats rock.';
                        playerScore = playerScore + 1;
                    };
                } else {
                    if (computerSelection == 'scissors') {
                        document.getElementById('score').innerHTML = 'You tie! You and the computer played scissors.';
                   } else if (computerSelection == 'rock') {
                        document.getElementById('score').innerHTML = 'You lose! Computer played rock. Rock beats scissors.';
                        computerScore = computerScore + 1;
                    } else {
                        document.getElementById('score').innerHTML = 'You Win! Computer played paper. Scissors beat paper';
                        playerScore = playerScore + 1;
                    };
               };
            };

        // Final score alert
            function finalScore() {
                if (playerScore < computerScore) {
                        alert ( 'Congrats loser! You lost.\nScore: Superior Computer ' + computerScore + ' - Dummy Human ' + playerScore );
                        console.log('Final Score: Computer ' + computerScore + ' - Human ' + playerScore);
                    } else if (playerScore > computerScore) {
                        alert ( 'You got lucky this time.\nScore: Human ' + playerScore + ' - Computer ' + computerScore );
                        console.log('Final Score: Lucky Human ' + playerScore + ' - Unfortunate Computer ' + computerScore);
                    } else {
                        alert ( 'It was a tie. So unsatisfying.\nScore: Inferior Human ' + playerScore + ' - Supreme Computer ' + computerScore );
                        console.log('Final Score: Human ' + playerScore + ' - Computer ' + computerScore);
                    };
            };

        // Game time  
            function game() {
                if (round < 5) {
                computerPlay(items);
                computerSelection = computerPlay(items);
                playRound(playerSelection, computerSelection);
                document.getElementById('computerScore').innerHTML = computerScore;
                document.getElementById('playerScore').innerHTML = playerScore;
                document.getElementById('round').innerHTML = 'Round ' + (round + 1) + ' of 5';
                round++;
                } else { 
                finalScore();
                };
            };

        // Thank you for putting up with Frank's attempt at javascript
        </script>
        <h1>Welcome to ULTIMATE Rock, Paper, Scissors</h1>
        <div class="rules"><P>Do you have what it takes to defeat a machine in Rock, Paper, Scissors?</P>
        <p>The entity with highest score after 5 rounds will emerge the victor.</p></div>
        <h2 id="round">Round 1 of 5. Choose Wisely.</h2>
        <table class="center">
            <tr>
                <td><img class="button" onclick="rockButton()" src="../images/rock.png"></a></td>
                <td><img class="button" onClick="paperButton()" src="../images/paper.png"></a></td>
                <td><img class="button" onClick="scissorsButton()" src="../images/scissors.png"></a></td>
            </tr>
        </table>
         <br>
        <h2 class="score" id="score">Score</h2>
        <table class="results">
            <tr>
                <td class="score"><h2>Dumb Human:<br><p class="tally" id='playerScore'>0</p></h2></td>
                <td class="score"><h2>Superior Machine:<br><p class="tally" id='computerScore'>0</p></h2></td>
            </tr>
        </table>
        <a href="https://www.vecteezy.com/free-vector/rock-paper-scissors">Rock Paper Scissors Vectors by Vecteezy</a>
    </body>
</html>